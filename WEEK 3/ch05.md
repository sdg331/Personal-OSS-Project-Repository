# 깃 설정과 저장소 생성 (Git Configuration & Repository Creation)

## 학습 개요

### 학습 내용
- 깃 설정변수와 값
- 깃 설정 명령 구조
- 주요 깃 설정
- 깃 저장소 생성

### 학습 목표
- 깃의 설정 명령을 이해하고 깃 설정을 할 수 있다
- 깃 저장소 생성 전에 주요 깃 설정 6개를 실행할 수 있다
- 깃 실행 후 깃 저장소를 생성할 수 있다

***

## 깃 설정 (Git Configuration)

### 깃 설치 후 처음 할 일

#### 필수 설정
- **사용자의 이름과 전자메일 설정**
- 깃을 설치한 이후 Git Bash에서 가장 먼저 수행해야 하는 작업

#### 설정값 입력 규칙
- 큰따옴표(`"`)와 작은따옴표(`'`) 모두 사용 가능
- 공백이 없으면 따옴표 생략 가능

### 주요 설정변수와 값

#### 필수 설정 6가지

| 설정변수 | 설정값 예시 | 설명 |
|---------|------------|------|
| `user.name` | `ai7dnn` | 사용자 이름 |
| `user.email` | `ai7dnn@gmail.com` | 사용자 전자메일 |
| `core.autocrlf` | `true` \| `false` \| `input` | 줄바꿈 자동변환 |
| `core.safecrlf` | `true` \| `false` | 줄바꿈 안전확인 |
| `core.editor` | `'code --wait'` \| `'notepad'` | 기본 편집기 설정 |
| `init.defaultBranch` | `main` | 기본 브랜치 이름 |

### 설정 명령 구조

#### 기본 구조
```bash
$ git config --설정범위 설정변수 설정값
```

#### 설정 범위 (Scope)

| 옵션 | 범위 | 설명 |
|------|------|------|
| `--system` | System | 모든 사용자 |
| `--global` | Global | 현재 사용자의 모든 저장소 |
| `--local` | Local | 현재 사용자의 현재 저장소 |

#### 우선순위
```
local > global > system
```
- local 설정이 가장 높은 우선순위
- 좁은 범위의 설정이 넓은 범위의 설정을 덮어씀

### 설정 명령 사용 예시

#### 기본 사용자 설정
```bash
PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]
$ git config --global user.name ai7dnn

PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]
$ git config --global user.email ai7dnn@gmail.com

PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]
$ git config --global init.defaultBranch main
```

### 전역 설정 파일

#### .gitconfig 파일

**위치**:
- Windows: `C:\Users\[사용자-계정]\.gitconfig`
- 예시: `C:\Users\PC\.gitconfig`

**특징**:
- `--global` 옵션 사용 시 이 파일에 설정 저장
- 해당 사용자에게만 적용되는 설정
- 한 번 설정하면 모든 Git 저장소에 적용

#### 주요 명령어

```bash
# 기본 편집기를 노트패드로 지정
$ git config --global core.editor notepad

# 기본 편집기 조회·참조
$ git config --get core.editor

# 전역 설정 파일 편집
$ git config --global --edit

# 전역 설정 파일 편집 (축약)
$ git config --global -e
```

### 전역 설정 편집

#### 설정 파일 직접 편집
```bash
$ git config --global --edit
```
또는
```bash
$ git config --global -e
```

**기능**:
- 옵션 `--edit` 또는 `-e` 사용
- 기본 편집기로 `.gitconfig` 파일을 직접 열어 편집
- 여러 설정을 한 번에 수정 가능

***

## 줄바꿈 설정 (Line Ending Configuration)

### 줄바꿈 설정이 필요한 이유

#### 플랫폼별 줄 끝 처리 차이
- **Windows**: CR(Carriage Return) + LF(Line Feed) = `\r\n`
- **Mac/Linux**: LF(Line Feed) = `\n`

#### 문제 상황
- 서로 다른 운영체제에서 협업 시 줄바꿈 문자 차이로 인한 충돌 발생
- 파일 전체가 수정된 것으로 인식될 수 있음

### core.autocrlf 설정

#### 줄바꿈 자동 변환

**Windows 환경**:
```bash
$ git config --global core.autocrlf true
```
- `true`: 체크아웃 시 LF → CRLF, 커밋 시 CRLF → LF

**Mac/Linux 환경**:
```bash
$ git config --global core.autocrlf input
```
- `input`: 커밋 시에만 CRLF → LF 변환

#### 설정 확인
```bash
$ git config --get core.autocrlf
```

### core.safecrlf 설정

#### 줄바꿈 안전 확인

**설정 명령**:
```bash
$ git config --global core.safecrlf false
```

#### 설정이 필요한 이유
- 설정이 잘못되면 `add`나 `commit` 명령 시 경고 메시지 발생
- **경고 메시지 예시**:
```bash
PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]/gcrlf (main)
$ git add file.txt
warning: in the working copy of 'file.txt', LF will be
replaced by CRLF the next time Git touches it
```

#### 옵션 설명
- `false`: 경고 메시지를 표시하지 않음
- Mac/Linux에서는 심각한 오류 발생 가능성 있으므로 주의 필요

#### 설정 확인
```bash
$ git config --get core.safecrlf
```

### 줄바꿈 설정 명령어 정리

```bash
# 줄바꿈 처리를 자동으로 지정
$ git config --global core.autocrlf true

# 줄바꿈 처리 방법을 조회·참조
$ git config --get core.autocrlf

# 줄바꿈 안전 설정을 false로 지정
$ git config --global core.safecrlf false

# 줄바꿈 안전 설정을 조회·참조
$ git config --get core.safecrlf
```

***

## 저장소 생성 전 필수 설정

### 주요 6가지 설정

**중요**: 저장소 생성 전에 반드시 다음 설정을 확인하고 시작해야 한다[file:15].

#### 1회 설정의 중요성
- 자신이 사용하는 컴퓨터라면 **1회 설정 이후 설정 파일에 저장**
- 수정하지 않는다면 이후 **다시 설정할 필요 없음**

### 필수 설정 명령어

```bash
# 1. 사용자 이름 설정
$ git config --global user.name ai7dnn

# 2. 사용자 전자메일 설정
$ git config --global user.email ai7dnn@gmail.com

# 3. 줄바꿈 자동변환 설정
$ git config --global core.autocrlf true

# 4. 줄바꿈 안전 설정
$ git config --global core.safecrlf false

# 5. 기본 편집기 설정
$ git config --global core.editor 'code --wait'

# 6. 기본 브랜치 이름 설정
$ git config --global init.defaultBranch main
```

### 설정 확인 방법

```bash
# 모든 설정 확인
$ git config --list

# 특정 설정 확인
$ git config --get user.name
$ git config --get user.email
$ git config --get core.autocrlf
$ git config --get core.safecrlf
$ git config --get core.editor
$ git config --get init.defaultBranch
```

***

## 저장소 생성 (Repository Creation)

### git init 명령어

#### 저장소 생성의 필요성
- 디렉토리를 **Git repository**로 만들어야 Git으로 버전 관리가 가능
- 일반 폴더 → Git 저장소로 변환

### 저장소 생성 방법

#### 방법 1: 현재 디렉토리를 저장소로 만들기
```bash
$ git init
```
또는
```bash
$ git init .
```
- 현재 디렉토리를 Git repository로 만들기 위해서 사용
- `.git` 폴더가 현재 위치에 생성

#### 방법 2: 새 폴더 생성과 동시에 저장소 만들기
```bash
$ git init basic
```
- 현재 폴더 하부에 폴더 `basic`을 생성
- `basic` 폴더를 Git repository로 만들기 위해서 사용

**실행 결과**:
```bash
PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]
$ git init basic
Initialized empty Git repository in C:/[smart Git]/basic/.git/
```

### 저장소 생성 확인

#### 생성된 저장소로 이동 및 확인
```bash
PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]
$ cd basic

PC@DESKTOP-482NOAB MINGW64 /c/[smart Git]/basic (main)
$ ls -al
total 8
drwxr-xr-x 1 PC 197121 0 Dec 12 16:43 ./
drwxr-xr-x 1 PC 197121 0 Dec 12 16:43 ../
drwxr-xr-x 1 PC 197121 0 Dec 12 16:43 .git/
```

**확인 사항**:
- 프롬프트에 `(main)` 브랜치 이름 표시
- `.git/` 폴더 존재 확인

### .git 폴더의 역할

#### .git 폴더의 중요성
- 깃 저장소에는 **반드시 `.git` 폴더가 포함**
- 여러 폴더와 파일이 저장됨
- **커밋된 모든 파일의 모든 버전 기록이 저장**

#### .git 폴더 구조
```
.git/
├── hooks/          # Git 훅 스크립트
├── info/           # 저장소 정보
├── objects/        # 모든 컨텐츠 저장
├── refs/           # 브랜치와 태그 참조
├── config          # 저장소 설정 파일
├── description     # 저장소 설명
└── HEAD            # 현재 체크아웃된 브랜치
```

#### 경고
- 깃 저장소에서 **폴더 `.git`을 삭제**하면
- 깃 저장소로서의 **기능을 상실**
- 모든 버전 이력이 사라짐

***

## 실습: 저장소 생성 전체 과정

### 실습 환경 설정

#### 기준 폴더 설정
```
C:\[git-master]
```

### 실습 단계별 명령어

| 단계 | 명령어 | 설명 |
|------|--------|------|
| 1 | `$ git config --global user.name hskang` | 사용자 이름 설정 |
| 1 | `$ git config --global user.email hskang@gmail.com` | 전자메일 설정 |
| 1 | `$ git config --global core.autocrlf true` | 줄바꿈 자동 설정 |
| 1 | `$ git config --global core.safecrlf false` | 줄바꿈 안전 설정 |
| 1 | `$ git config --global core.editor 'code --wait'` | 기본 편집기 설정 |
| 1 | `$ git config --global init.defaultBranch main` | 기본 브랜치 이름 설정 |
| 2 | `$ git init basic` | 저장소 생성 |
| 3 | `$ cd basic` | 폴더 이동 |
| 4 | `$ ls -al` | 파일 확인 |

### 전체 실습 코드

```bash
# Step 1: Git 전역 설정
$ git config --global user.name hskang
$ git config --global user.email hskang@gmail.com
$ git config --global core.autocrlf true
$ git config --global core.safecrlf false
$ git config --global core.editor 'code --wait'
$ git config --global init.defaultBranch main

# Step 2: 저장소 생성
$ git init basic

# Step 3: 생성된 저장소로 이동
$ cd basic

# Step 4: 저장소 확인
$ ls -al
```

***

## 핵심 요약 (Summary)

### 깃 설정 명령 구조
```bash
$ git config --설정범위 설정변수 설정값
```

#### 설정 범위
- `--system`: 모든 사용자
- `--global`: 현재 사용자의 모든 저장소
- `--local`: 현재 사용자의 현재 저장소

#### global 설정 파일 위치
```
C:\Users\[사용자-계정]\.gitconfig
```

### 저장소 생성 전 필수 설정 6가지

```bash
# 1. 사용자 설정
$ git config --global user.name "hs kang"
$ git config --global user.email hskang@gmail.com

# 2. 맥(lf)과 윈도(crlf) 간의 자동 변환
$ git config --global core.autocrlf true

# 3. 뉴라인 경고 발생 없애기(옵션)
$ git config --global core.safecrlf false

# 4. 기본 편집기 설정
$ git config --global core.editor 'code --wait'

# 5. 깃 저장소 기본 브랜치 이름 설정
$ git config --global init.defaultBranch main
```

### Git Repository 생성 방법

```bash
# 방법 1: 현재 디렉토리를 저장소로
$ git init
$ git init .

# 방법 2: 새 폴더 생성 및 저장소로
$ git init basic
```

### .git 폴더
- 모든 버전 관리 정보가 저장되는 핵심 폴더
- 삭제 시 저장소 기능 상실
- 커밋된 모든 파일의 모든 버전 기록 포함