# 20. Git Stash (임시저장) 학습 정리

## 1. 임시저장 (Stash) 개요
### 1.1 Stash의 정의 및 개념
* [cite_start]**정의**: 커밋하지 않고 작업 디렉토리와 스테이징 영역의 변경 사항을 잠시 감추거나(hide) 안전한 곳에 보관하는 도구[cite: 371].
* **특징**:
    * 작업 중인 파일들을 임시로 치워두고, 작업 트리를 깨끗한 상태(Clean)로 만듦.
    * [cite_start]작업 디렉토리와 스테이징 영역의 내용을 **스택(Stack)** 구조에 저장[cite: 372].
    * [cite_start]**LIFO (Last In First Out)**: 가장 최근에 저장한 내용이 가장 위에 쌓이는 구조[cite: 390].

### 1.2 왜 필요한가? (Necessity)
* [cite_start]**상황**: 작업을 완료하지 못해 커밋할 수 없는데, 급하게 다른 브랜치로 이동하거나 이전 커밋을 확인해야 할 때[cite: 418].
* [cite_start]**해결**: 현재 작업 내용(Working Directory + Index)을 `stash`에 보관하여 충돌을 방지하고 나중에 다시 복구하여 작업 재개[cite: 419].

---

## 2. 주요 명령어 (Commands)

### 2.1 저장하기 (Save)
* [cite_start]작업 폴더와 스테이징 영역의 변경 사항을 보관하고 작업 폴더를 정리함[cite: 270].
    * `$ git stash`: 기본 저장.
    * [cite_start]`$ git stash save '메시지'`: 어떤 작업을 하던 중이었는지 메시지와 함께 저장[cite: 271].

### 2.2 저장 옵션 (Options)
* [cite_start]**-k, --keep-index**: 스테이징 영역(Staged)의 내용은 저장하지 않고 그대로 둠 (Checkout 불가 상태 유지)[cite: 271, 272].
* [cite_start]**-u, --include-untracked**: 추적되지 않는(Untracked) 파일까지 포함하여 저장[cite: 271, 273].
* [cite_start]**-p, --patch**: 변경된 사항을 대화형으로 하나씩 확인하며 저장할지 결정[cite: 273].

### 2.3 목록 확인 (List)
* 저장된 Stash 목록을 확인.
    * [cite_start]`$ git stash list`[cite: 278].
    * [cite_start]형식: `stash@{0}`, `stash@{1}` ... (0번이 가장 최신)[cite: 278].

### 2.4 내용 확인 (Show)
* Stash된 내용과 커밋 간의 차이 확인.
    * [cite_start]`$ git stash show`: 변경된 파일 목록과 라인 수 요약 표시[cite: 284].
    * [cite_start]`$ git stash show -p`: 파일의 구체적인 변경 내용(diff)까지 표시[cite: 285].
    * [cite_start]`$ git stash show stash@{n}`: 특정 n번째 Stash 확인[cite: 278].

---

## 3. 복원 및 삭제 (Restore & Delete)

### 3.1 불러오기 (Apply & Pop)
* [cite_start]**Apply (적용)**: Stash 내용을 가져오지만, **목록에서 삭제하지 않음**[cite: 271].
    * `$ git stash apply`: 가장 최근(`stash@{0}`) 내용 적용.
    * [cite_start]`$ git stash apply stash@{n}`: 특정 n번째 내용 적용[cite: 279].
    * [cite_start]`$ git stash apply --index`: 스테이징 영역(Index)의 상태까지 그대로 복원[cite: 271].
* [cite_start]**Pop (꺼내기)**: Stash 내용을 가져와 적용하고, **목록에서 제거함**[cite: 279].
    * `$ git stash pop`: 가장 최근 내용 적용 후 삭제.
    * `$ git stash pop stash@{n}`: 특정 내용 적용 후 삭제.

### 3.2 삭제하기 (Drop & Clear)
* [cite_start]`$ git stash drop`: 가장 최근(`stash@{0}`) 항목 삭제[cite: 280].
    * [cite_start]`$ git stash drop stash@{n}`: 특정 n번째 항목 삭제[cite: 280].
* [cite_start]`$ git stash clear`: 저장된 **모든** Stash 목록을 한 번에 삭제[cite: 280].

---

## 4. 기타 유용한 기능
### 4.1 Untracked 파일 삭제 (Clean)
* [cite_start]Git이 추적하지 않는 파일(Untracked files)을 작업 디렉토리에서 영구 삭제[cite: 280].
    * [cite_start]`$ git clean`: 기본적으로 설정(`clean.requireForce`)에 따라 삭제가 거부될 수 있음[cite: 280].
    * [cite_start]`$ git clean -f`: 강제로 삭제 (Force)[cite: 282].
    * [cite_start]`$ git clean -i`: 대화형 모드(Interactive)로 진입하여 선택적 삭제 가능[cite: 281].

---

## 5. 핵심 요약 (Summary)
1.  **임시 저장**: `$ git stash`를 사용해 작업 중인 내용을 스택에 안전하게 보관.
2.  **복원 전략**:
    * 계속 활용하려면 `apply` (목록 유지).
    * 한 번 쓰고 버리려면 `pop` (목록 삭제).
3.  **관리**: `$ git stash list`로 확인하고 `$ git stash drop/clear`로 정리.